<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>** Vue HTTP 통신2_Axios Test **</title>
</head>
<body>
	<div id="app">
		<h2>** Vue HTTP 통신2_Axios Test **</h2>
		=> 아래 버튼을 클릭하면 지정한 url 의 데이터 가져오기<br><br>
		<button v-on:click="getData">프레임워크 목록 가져오기</button>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"></script>	
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
	// => axios.get(url주소)
	//		-> 해당 url 로 Get 요청 -> 성공이면 then()
	// => JS Promise 를 기반으로 함
	// => then() 의 response 객체는 js객체 형식이므로  JSON.parse() 가 필요없음 : 뷰리소스보다 우수
	
	new Vue({
		el:'#app',
		methods: {
			getData : function() {
				axios.get('https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json')
				//axios.get('https://www.errorTest.com')  
				.then(function(response){
					console.log('** then => \n'+response);
					console.log(response.data);
				}).catch( (error) => { console.log('** catch => \n'+error);  // 화살표 함수 표기
				}).finally( () => { console.log('** finally : 항상실행 **');  // 화살표 함수 표기
				}); // axios  
			} //getData
		} //methods
	});	//Vue
	
	</script>
	
</body>
</html>